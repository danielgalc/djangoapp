{% extends 'app/base.html' %}


{% block content %}
    <style>
        ul li {
            list-style-type: circle;
        }
        
        h1 {
            margin-left: 5%;
        }
    </style>
    <h1> Events </h1>
    <br>
    <ul>
    {% for event in event_list %}
        <div class="card">
            <div class="card-header">
            <strong>{{ event }}</strong>
            </div>
            <div class="card-body">
            <h5 class="card-title">Value: {{ event.venue }}</h5>
            <p class="card-text">
                <ul>    
                    <li>ID: {{ event.id }}</li>
                    <li>Date: {{ event.event_date }}</li>
                    <li>Venue: {{ event.venue }}</li>
                    <li>Venue Website: {{ event.venue.web }}</li>
                    <li>Manager: {{ event.manager }}</li>
                    <li>Description: {{ event.description }}</li>
                    <li>Attendees: <br>
                        {% for user in event.attendees.all %}
                            {{ user }}
                            <br> 
                        {% endfor %}
                    </li>
                </ul>
            </p>
            </div>
            {% if user.is_authenticated %}
                {% if user == event.manager or user.is_superuser %}
                <div class="card-footer">
                    <a href={% url 'update-event' event.id %} class="btn btn-outline-secondary btn-sm"> Update Event </a>
                    <a href={% url 'delete-event' event.id %} class="btn btn-outline-danger btn-sm"> Delete Event </a>
                </div>
                {% endif %}
            {% endif %}
        </div>
        <br>
    {% endfor %}
{% endblock %}
